<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="description" content="" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->

  <!-- Title  -->
  <title>Vertex</title>

  <!-- Favicon  -->
  <link rel="icon" href="img/core-img/favicon.ico" />

  <!-- Core Style CSS -->
  <link rel="stylesheet" href="css/core-style.css" />

  <link rel="stylesheet" href="https://cdn.datatables.net/2.0.2/css/dataTables.dataTables.css">

  <style>
    .profile-sidebar {
      text-align: center;
      padding: 10px;
      background-color: #f8f9fa;
      border-radius: 10px;
    }

    .profile-options {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .profile-options li {
      margin-bottom: 10px;
    }

    .profile-options a {
      text-decoration: none;
      display: block;
      padding: 10px 20px;
      border-radius: 20px;
      color: #495057;
      transition: background-color 0.3s;
    }

    .profile-options a:hover {
      background-color: #e9ecef;
    }

    .profile-options a.active {
      background-color: #000;
      color: #fff;
    }

    .user-details {
      padding: 20px;
      background-color: #f8f9fa;
      border-radius: 10px;
    }

    .refferal-link {
      margin-top: 10px;
      padding: 20px;
      background-color: #f8f9fa;
      border-radius: 10px;
    }

    .link-container {
      display: flex;
      align-items: center;
      width: 100%;
    }

    .link {
      margin-right: 1px;
      flex-grow: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px 0 0 5px;
    }

    .copy-button {
      padding: 10px 20px;
      border: none;
      background-color: #007bff;
      color: #fff;
      border-radius: 0 5px 5px 0;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <!-- ##### Header Area Start ##### -->
  <%- include("./partials/privateNavbar") %>

    <!-- ##### Header Area End ##### -->

    <!-- ##### Checkout Area Start ##### -->
    <div class="profile-page section-padding-80">
      <div class="container">
        <div class="row">
          <!-- Sidebar Section -->
          <div class="col-12 col-md-5 col-lg-3">
            <div class="profile-sidebar">
              <ul class="list-unstyled profile-options">
                <li><a href="/profile">Account</a></li>
                <li><a href="/password">Change Password</a></li>
                <li><a href="/orders">Order History</a></li>

                <li><a href="/cart">Shopping Cart</a></li>
                <li><a href="/wishlist">Wishlist</a></li>
                <li><a href="/address">Address</a></li>
                <li><a href="/add-address">Add Address</a></li>
                <li><a href="/wallet" class="active">Wallet</a></li>
                <li><a href="/logout">Logout</a></li>
              </ul>
            </div>
          </div>

          <!-- User Details Section -->
          <div class="col-12 col-md-7 col-lg-9">
            <h5>Balance: <%=wallet.currentBalance %>
            </h5>
            <h5>History</h5>
            <div class="table-responsive-sm">
              <table id="myTable" class="table table-hover my-0">
                <thead>
                  <tr>
                    <th class="">date</th>
                    <th class="">description</th>
                    <th class="">type</th>
                    <th class="">amount</th>
                  </tr>
                </thead>
                <tbody>
                  <% if (wallet.transactions.length<=0) { %>
                    <tr>
                      <td colspan="4">
                        <h5>NO transactions</h5>
                      </td>
                    </tr>
                    <% } else { %>
                      <% for (let i=wallet.transactions.length - 1; i>= 0; i--) { %>
                        <% const transaction=wallet.transactions[i]; %>
                          <tr>
                            <td>
                              <%= transaction.date.toLocaleDateString() %>
                            </td>
                            <td>
                              <%= transaction.description %>
                            </td>
                            <td>
                              <%= transaction.type %>
                            </td>
                            <td>
                              <%= transaction.amount %>
                            </td>
                          </tr>
                          <% } %>
                            <% } %>

                </tbody>
              </table>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- ##### Checkout Area End ##### -->

    <!-- ##### Footer Area Start ##### -->
    <%- include("./partials/user-footer") %>
      <!-- ##### Footer Area End ##### -->



      <!-- jQuery (Necessary for All JavaScript Plugins) -->
      <script src="/js/jquery/jquery-2.2.4.min.js"></script>
      <!-- Popper js -->
      <script src="/js/popper.min.js"></script>
      <!-- Bootstrap js -->
      <script src="/js/bootstrap.min.js"></script>
      <!-- Plugins js -->
      <script src="/js/plugins.js"></script>
      <!-- Classy Nav js -->
      <script src="/js/classy-nav.min.js"></script>
      <!-- Active js -->
      <script src="/js/active.js"></script>

      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

      <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
      <script src="https://cdn.datatables.net/2.0.2/js/dataTables.js"></script>
      <script>
        new DataTable('#myTable', {
          ordering: false,
        });
      </script>
</body>

</html>